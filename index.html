<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repair Tracker App</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><meta name="msapplication-TileColor" content="#2f5fda"><meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <nav class="app-nav">
            <button id="formViewBtn" class="nav-btn active">မှတ်တမ်းတင်ရန်</button>
            <button id="dashboardViewBtn" class="nav-btn">Dashboard</button>
        </nav>

        <main id="formView" class="view active-view">
             <form id="repairForm">
                <div class="form-section">
                    <h3>အထွေထွေ အချက်အလက်</h3>
                    <div class="form-group"><label>နိုင်ငံသားကဒ်နံပါတ် (ခေါင်းစဉ်)</label><input type="text" name="nrc" required></div>
                    <div class="form-group"><label>အမည်</label><input type="text" name="name" required></div>
                    <div class="form-group"><label>ဖုန်းနံပါတ်</label><input type="tel" name="phone"></div>
                    <div class="form-group"><label>တင်သွင်းသည့်ရက်</label><input type="date" name="submissiondate" required></div>
                </div>
                <div class="form-section">
                    <h3>ပြင်ဆင်ရန် လွဲချက်များ</h3>
                    <div id="correctionsContainer"></div>
                    <button type="button" id="addCorrectionBtn" class="secondary-btn">+ လွဲချက်အသစ် ထပ်ထည့်ရန်</button>
                </div>
                <div class="form-section">
                    <h3>သက်ဆိုင်ရာ ဓာတ်ပုံ</h3>
                    <div class="form-group"><input type="file" name="image" accept="image/png, image/jpeg, image/jpg" required></div>
                </div>
                <button type="submit" id="submitButton">မှတ်တမ်းတင်မည်</button>
            </form>
        </main>

        <main id="dashboardView" class="view">
            <header class="dashboard-header">
                <h2><span id="recordCount">0</span> မှတ်တမ်းများ</h2>
                <div class="filters">
                    <div class="filter-group"><label for="monthFilter">လအလိုက် စစ်ရန်</label><select id="monthFilter"></select></div>
                    <div class="filter-group-status">
                        <button class="status-filter-btn active" data-filter="all">All</button>
                        <button class="status-filter-btn" data-filter="စီစစ်ဆဲ">စီစစ်ဆဲ</button>
                        <button class="status-filter-btn" data-filter="အတည်ပြုပြီး">အတည်ပြုပြီး</button>
                        <button class="status-filter-btn" data-filter="ပယ်ဖျက်သည်">ပယ်ဖျက်သည်</button>
                    </div>
                </div>
            </header>
            <div id="recordList"></div>
        </main>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <header class="modal-header">
                <h2>မှတ်တမ်း ပြင်ဆင်ရန်</h2>
                <button class="close-button">×</button>
            </header>
            <form id="editForm">
                <input type="hidden" name="id">
                <input type="hidden" name="action" value="update">
                <div class="form-section">
                    <h3>အထွေထွေ အချက်အလက်</h3>
                    <div class="form-group"><label>နိုင်ငံသားကဒ်နံပါတ် (ခေါင်းစဉ်)</label><input type="text" name="nrc" required></div>
                    <div class="form-group"><label>အမည်</label><input type="text" name="name" required></div>
                    <div class="form-group"><label>ဖုန်းနံပါတ်</label><input type="tel" name="phone"></div>
                </div>
                <div class="form-section">
                    <h3>ပြင်ဆင်ရန် လွဲချက်များ</h3>
                    <div id="editCorrectionsContainer"></div>
                    <button type="button" id="addEditCorrectionBtn" class="secondary-btn">+ လွဲချက်အသစ် ထပ်ထည့်ရန်</button>
                </div>
                <button type="submit" id="updateButton">သိမ်းဆည်းမည်</button>
            </form>
        </div>
    </div>
    
    <div id="toastContainer"></div>
    <script src="script.js"></script>
</body>
</html>
